load("//bazel/js:defaults.bzl", "build_road", "pkg_web", "generate_route_manifest")

build_road(
    name = "default",
    entry = "./$(execpath default.jsx)",
    data = ["default.jsx"]
)

pkg_web(
    name = "routes",
    srcs = [
        ":default",
        "//src/client/routes/secondary"
    ],
    additional_root_paths = ["%s/secondary" % package_name()],
    visibility = ["//src/client:__pkg__"]
)

generate_route_manifest(
    name = "route_manifest",
    data = ["routes"]
)